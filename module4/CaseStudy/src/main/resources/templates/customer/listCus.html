<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <head th:replace="~{temp/template::head}">
</head>
<body>

<nav th:replace="~{temp/template::header}"></nav>





<!--<div th:replace="~{templ/template::header}"></div>-->
<!--<div th:replace="~{templ/template::footer}"></div>-->

<a th:href="@{/customer/create}" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Create new customer</a>
<!--<form th:action="@{/customer/search}" th:method="get">-->
<!--    <input id="searchStudent" type="text" name="name">-->
<!--    <button type="submit">Search</button>-->
<!--</form>-->
<form th:action="@{/customer/search}" th:method="get">
    <input  type="text" name="name">
    <input  type="text" name="address">
    <input  type="text" name="email">
    <button type="submit">Search</button>
</form>
<table class="table table-striped">
    <thead>
    <tr>
        <th scope="col">STT</th>
        <th scope="col">Name</th>
        <th scope="col">BirthDay</th>
        <th scope="col">Gender</th>
        <th scope="col">Id Card</th>
        <th scope="col">Phone</th>
        <th scope="col">Email</th>
        <th scope="col">Address</th>
        <th scope="col">Customer Type</th>
        <th scope="col"></th>
        <th scope="col"></th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="c:${customer}">

        <td th:text="${c.customerId}"></td>
        <td th:text="${c.customerName}"></td>
        <td th:text="${c.customerBirthday}"></td>
        <td th:switch="${c.customerGender}">
            <span th:case="1" th:text="Man"></span>
            <span th:case="0" th:text="Woman"></span>
        </td>
        <td th:text="${c.customerIdCard}"></td>
        <td th:text="${c.customerPhone}"></td>
        <td th:text="${c.customerEmail}"></td>
        <td th:text="${c.customerAddress}"></td>

        <td  th:text="${c.customerType.getCustomerTypeName()}"></td>

        <td>
        <a class="btn btn-primary " role="button"
           th:href="@{/customer/edit/__${c.customerId}__}">Edit

        </a>
    </td>
        <td>


        <td><a th:href="@{/customer/delete/__${c.customerId}__}"  class="btn btn-danger btn-delete">delete</a></td>




        </td>


    </tr>
    </tbody>
</table>
<div>
    <a th:href="@{'listCustomer'(page=${customer.number - 1})}" th:if="${customer.hasPrevious()}">Previous</a>
    <span th:text="${customer.number + 1}"></span>/<span th:text="${customer.totalPages}"></span>
    <a th:href="@{'listCustomer'(page=${customer.number + 1})}" th:if="${customer.hasNext()}">Next</a>


    <!--    <th:block th:each="i:${#numbers.sequence(0,blogList.totalPages - 1)}">-->
    <!--        <li th:if="${blogList.number == i}" class="page-item active">-->
    <!--            <a class="page-link" th:href="@{'/blogs'(page=${i})}" th:text="${i+1}"></a>-->
    <!--        </li>-->
    <!--        <li th:unless="${blogList.number == i}" class="page-item">-->
    <!--            <a class="page-link" th:href="@{'/blogs'(page=${i})}" th:text="${i+1}"></a>-->
    <!--        </li>-->
    <!--    </th:block>-->

    <!--    <li class="page-item">-->
    <!--        <a class="page-link" th:if="${blogList.hasNext()}" th:href="@{'/blogs'(page=${blogList.number +1})}">-->
    <!--            <span>&raquo;</span>-->
    <!--        </a>-->
    <!--    </li>-->
</div>


<!--modal-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title pull-right" id="myModalLabel">Xoa Khach hang nay!</h3>

            </div>
            <div class="modal-body">
                <p class="alert alert-danger pull-right" >Ban co muon xoa? </p>
<!--                <span  th:text="${customer.customerName}"> </span>-->

            </div>

            <div class="modal-footer">
                <a href="" type="button" class="btn btn-danger" id="btnDelteYes">Delete</a>
                <button type="button" class="btn btn-default" data-dismiss="modal">Return</button>
            </div>

        </div>

    </div>




</div>
<script>
    $('.btn-delete').on('click', function (e) {
        e.preventDefault();
        var href =$(this).attr('href');
        $('#myModal #btnDelteYes').attr('href',href);
        $('#myModal').modal();
    });
</script>
</body>

    <div th:replace="~{temp/template::footer}"></div>
</html>